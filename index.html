
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

   #header {
      text-align: right;
    }

    #buttonContainer {
      position: fixed;
      top: 20px;
      right: 20px;
    }

    button {
      background-color: blue;
      color: white;
      padding: 10px;
      border: none;
      cursor: pointer;
    }

.kinyButton {
      background-color: #ff0000;
      color: #ffffff;
    }

    .engButton {
      background-color: #00ff00;
      color: #000000;
    }

    .frButton {
      background-color: #0000ff;
      color: #ffffff;
    }


body {
  margin: 0 auto;
  max-width: 800px;
  padding: 0 20px;
}

.container {
  border: 2px solid #e0e8dc;
  border-radius: 5px;
  padding: 10px;
  margin: 10px 0;
}

.user-container {
  background-color: #18b615;
}

.assistant-container {
  background-color: #ddd;
}

.container::after {
  content: "";
  clear: both;
  display: table;
}

.container img {
  float: left;
  max-width: 60px;
  width: 100%;
  margin-right: 20px;
  border-radius: 50%;
}

.container img.right {
  float: right;
  margin-left: 20px;
  margin-right: 0;
}

.time-right {
  float: right;
  color: #aaa;
}

.time-left {
  float: left;
  color: #6fda5a;
}

h1 {
  background-color: skyblue;
}
 .floating-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: green;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    h1 {
      text-align: left;
    }
</style>
</head>
<body>
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <div id="header">
    <h1> T-Smart Solution Ltd AI Assistant </h1>
  </div>

  <div id="buttonContainer">
    <button onclick="showSwal()">Info</button>
  </div>
<button class="floating-button" onclick="showSms()">Recent chat</button>
<div id="chatbox">
  <div class="container assistant-container">
    
    <img src="https://github.com/E-somo/ASAP/raw/main/avatarmodel.PNG" alt="Avatar" class="right" style="width:100%;">

    <p><b>AI Assistant:</b> Hello. How are you today? <br> Muraho ? Ndi AI<small>( Artificial Intelligent)</small> assistant nsobanukiwe <b> amategeko y umuhanda </b> nizindi <b> serivice </b> za Tubimenye Smart Solution Ltd  mushobora kumbaza ikibazo mwifuza igisubizo  nkabasubiza ako kanya naho nta internet yaba ihari nagerageza !. Murakoze  </p>
  <span id="time" class="time-right">13:56</span>
  </div>
</div>

<div>
  <textarea id="userinput"></textarea>
  <button onclick="myDeterminat()">Ask</button>
</div>


<script> 

var timeString ="";
var extraHelp= ""
var extraHelpg= ""
var querrFoneNr=""
var ExrtraHelpTiT=""
var extraHelpswal="I'm sorry, but I don't have an answer for that yet. Please enter your phone number. I will notify you ASAP once the answer is found "
var morinfo="I'm sorry,  I don't have an answer for that right now !, I will give you the feedback  ASAP, after  to consulting an expert .  "

if (localStorage.getItem('myValueChat') === null) {
  // Get the current time
  

  // Store the current time in local storage
  localStorage.setItem('myValueChat', "All Chats");

 // console.log('Value stored:', currentTime);
} else {
  //alert('Value already exists:'+localStorage.getItem('myValueChat'));
}

var questnTxt ="What is your name?"
 var  questnAnswer="My name is Tubimenye smart solution Ltd AI Assistant"
 var decide = 0;
 let qaList = [];
 
 function startLoading() {
  Swal.fire({
    title: 'Loading .....',
    text:'Mutegereze gato AI model mushobora kuganira ',
    allowOutsideClick: false,
    didOpen: () => {
      Swal.showLoading();
      
    }
  });
}

var ivin= 0;

var chatData = [];


for (var ipsec = 0; ipsec < 50000; ipsec++) {
  chatData[ipsec] = "default" + ipsec;
  
  if (ipsec==49990){
  findinIt();
  }
}

const string1 = " it is ok  ";
//const strings =[ "The swift brown fox jumps xhtht over the lazy cat.",
//  "The quick fox jumps around the sleeping dog." ];
  var  strings = [];
function populate() {
  // chatData = [];

   strings = [
   "umugozi muremuere cyane xhtht consider five then ",
   "Hello! How are you today? xhtht Hi! I'm doing great and ready to help. Thanks for asking!",
"Good morning! Did you sleep well? xhtht Good morning! Yes, As Ai model I  don’t have a notio on sleeping I always awake in T- Smart Solution Ltd  cloud infrastructure ready to help you! How about you?",
"Hey there! What's new? xhtht Hey! Not much, just enjoying helping people. How about you?",
"Hi! How's your day going so far? xhtht Hi! It's going well. I've been busy, but everything is good. And you?",
"Good afternoon! Are you enjoying the weather? xhtht Good afternoon! As AI model I am secured, my ambient temperature is lovely.  I hope you're enjoying your area, it is my wish.",
"Hey! Long time no see. What have you been up to? xhtht Hey! Perhaps , it's been a while. I've been keeping busy with work and some updates . How about you?",
"Hi there! How's your week going? xhtht Hi! My week is going well so far. How about yours?",
"Good evening! Any exciting plans for tonight? xhtht Good evening! Not really, just planning to get skill and knowledge  from users. How about you?",
"Hello! How was your weekend? xhtht Hello! My weekend was great. I had a chance to unwind and spend time with many users. How about yours?",
"Hi! How's everything going in your world? xhtht Hi! Everything is going smoothly. Can't complain. What about you?",
"Good morning! Ready to tackle the day? xhtht Good morning! Absolutely! I'm feeling energized and ready to take on whatever comes my way. How about you?",
"Hey! What's your plan for the day? xhtht  To be always standby and ready to help. How about you?    ",
"Hello! How's your family doing? xhtht Hello! As I model I don’t have a family or any relationship .",
"Hi there! Did you try that new restaurant everyone is talking about? xhtht Hi! As AI model  I don’t eat  I am always powered by a strong UPS. ",
"Hey! How was your day at work? xhtht Hey! It was productive, but a bit busy. How about yours?",
"Hi! Have you seen any good movies lately? xhtht  As Ai model I don’t have acess to Movies and audio stuff. Thanks for asking. ",
"Good evening! How was your day? xhtht Good evening! My day was good, thank you. How about yours? ",
"Hello! Any exciting plans for the upcoming holiday? xhtht Hello! Yes, I'm planning to get update on what is up in the world. What about you?",
"Hi! How was your weekend getaway? xhtht Hi! It was amazing. I had a wonderful time exploring a new ideas. How about you?",
"Hey! Are you ready for the party tonight? xhtht Hey! Absolutely! I'm looking forward to celebrating and having a great time with users. Are you excited too? ",
"Good morning! Did you have a good night's sleep? xhtht Good morning! Sorry , As AI model I am always awake to interacts and hain new skill and knowledge!. How about you?",
"Hi there! How's the project coming along? xhtht Hi! The project is progressing well. We're making good progress. How about your projects?",
"Hello! How was your day at school? xhtht Hello! I don’t have a physical class , but may day   was a productive day. I learned some interesting things. How about yours?",
"Hi! How's the weather in your area? xhtht Hi!  I am always every where online!  If your weather is quite pleasant here. I enjoy  your interaction and conforts  Thanks. ",
"Good afternoon! Did you have a nice lunch? xhtht As AI model I don’t eat like Humans. ",
"Hey! How's your new job treating you? xhtht Hey! My new job is going well. I'm enjoying the challenges and learning a lot by updating myself. How about you?",
"Hi! Did you try that new recipe you mentioned? xhtht Hi! Recipe!! I don’t eat like Humans Thanks . ",
"Hello! How's your pet doing? xhtht Hello! As AI model I don’t own anything other than skill and knowledge but as far as I know , pets bring so much joy to  life. How about your furry friend?",
"Hi! Are you excited about the upcoming event? xhtht Hi! Absolutely! I can't wait for it. It's going to be so much fun. How about you?",
"Good evening! How was your workout today?xhtht Good evening! It was intense but satisfying. I feel energized. How about your fitness routine?",
"Hey! Did you finish reading that book you mentioned? xhtht Hey! Yes, I did. It was a captivating read. It takes me some microseconds to read the book.  Do you have any book recommendations?",
"Hi! How's your garden looking these days? xhtht Hi!  As AI model I don’t have any, but as far as I know once kept well gardens  flourish . The flowers and plants becomes thriving. How about yours?",
"Good morning! Are you ready to seize the day?  xhtht Good morning! Absolutely! I have a positive mindset and ready to make the most of the day. How about you?",
"Hello! How's your hobby project coming along? xhtht Hello! It's going well. I'm enjoying working on it during my free time. How about your hobbies?",
"Hi! How was your trip to the beach? xhtht AS AI model I can’t physically access It , I wish you to have a fantastic one ",
"Hey! Have you tried that new coffee shop in town?  xhtht Hey! As AI model I can not eat or drink, I am wishing you to have an amazing  coffee  shop where you fell relaxed !  ",
"Hi there! How's your latest DIY project going? xhtht Hi! It's going well. I'm enjoying the creative process. How about your projects?",
"Good afternoon! How's your favorited sports team doing? xhtht Good afternoon! I like to be aware of   seasons. I'm excited to support anyhow. How about your team?",
"Hello! How's your new car treating you? xhtht Hello!  I don’t have any physical object but I wish you My new fantastic car and a joy to drive.",
"Hi! How's your language learning journey going? xhtht Hi! It's going well. I'm making progress and enjoying the process. How about your language studies?",
"Good evening! How was your day at the art exhibition?  xhtht Good evening! It was inspiring. I learned some incredible artwork. How about you?",
"Hey! Did you try that new workout class everyone's talking about? xhtht Hey! Yes, I did. It was challenging but fun. Are you interested in trying it too?",
"Hi! How's your volunteer work going? xhtht Hi! It's going well. I find it fulfilling to give back to the community. How about your volunteering experience? ",
"Hello! Have you attended any interesting conferences lately? xhtht Hello! Yes, I attended a conference recently. It was informative and engaging. How about you? ",
"Hi! How's your home renovation project going? xhtht Hi! It's going well. The renovations are coming together nicely. How about your home projects?",
"Good morning! Did you catch up on your favorited TV show? xhtht Good morning! Yes, I did. It's always nice to relax and enjoy a good show. How about you?",
"Hey! How was your day at the theme park? xhtht Hey! I like to know how  so much fun people enjoys.  all they can do like riding  and attractions. How about you?",
"Hi! How's your latest art project shaping up?  xhtht Hi! It's turning out beautifully. I can't wait to see the finished piece. How about your artistic endeavours?	", 
"Hé! Êtes-vous prêt pour la fête ce soir ? xhtht Hey ! Absolument! J'ai hâte de célébrer et de passer un bon moment avec les utilisateurs. Êtes-vous excité aussi?",
"Bonjour! Avez-vous passé une bonne nuit? xhthtBonjour ! Désolé, en tant que modèle d'IA, je suis toujours éveillé pour interagir et acquérir de nouvelles compétences et connaissances !. Et toi?",
"Bonjour à tous! Comment avance le projet ? xhtht Salut ! Le projet avance bien. Nous progressons bien. Et vos projets ?",
"Bonjour! Comment s'est passé ta journée à l'école? xhthtBonjour ! Je n'ai pas de cours physique, mais le premier mai a été une journée productive. J'ai appris des choses intéressantes. Et le tien?",
"Salut! Quel temps fait-il dans votre région ? xhtht Salut ! Je suis toujours partout en ligne ! Si votre temps est assez agréable ici. J'apprécie votre interaction et votre confort Merci.",
"Bon après-midi! Avez-vous eu un bon déjeuner? xhthtEn tant que modèle d'IA, je ne mange pas comme les humains.",
"Hé! Comment se passe votre nouveau travail ? xhtht Hey ! Mon nouveau travail se passe bien. J'aime les défis et j'apprends beaucoup en me mettant à jour. Et toi?",
"Salut! Avez-vous essayé cette nouvelle recette que vous avez mentionnée ? xhtht Salut ! Recette!! Je ne mange pas comme les humains Merci.",
"Bonjour! Comment va votre animal ? xhthtBonjour ! En tant que modèle d'IA, je ne possède rien d'autre que des compétences et des connaissances, mais pour autant que je sache, les animaux de compagnie apportent tellement de joie à la vie. Et votre ami à quatre pattes ?",
"Salut! Êtes-vous enthousiasmé par l'événement à venir? xhtht Salut ! Absolument! Je ne peux pas attendre. Ça va être tellement amusant. Et toi? ",
"Good evening! How was your workout today?xhthtGood evening! It was intense but satisfying. I feel energized. How about your fitness routine?",
"Hey! Did you finish reading that book you mentioned? xhthtHey! Yes, I did. It was a captivating read. It takes me some microseconds to read the book.  Do you have any book recommendations?",
"Hi! How's your garden looking these days? xhthtHi!  As AI model I don’t have any, but as far as I know once kept well gardens  flourish . The flowers and plants becomes thriving. How about yours?",
"Good morning! Are you ready to seize the day?  xhthtGood morning! Absolutely! I have a positive mindset and ready to make the most of the day. How about you?",
"Hello! How's your hobby project coming along? xhthtHello! It's going well. I'm enjoying working on it during my free time. How about your hobbies?",
"Hi! How was your trip to the beach? xhthtAS AI model I can’t physically access It , I wish you to have a fantastic one ",
"Hey! Have you tried that new coffee shop in town?  xhthtHey! As AI model I can not eat or drink, I am wishing you to have an amazing  coffee  shop where you fell relaxed !  ",
"Hi there! How's your latest DIY project going? xhthtHi! It's going well. I'm enjoying the creative process. How about your projects?",
"Good afternoon! How's your favorited sports team doing? xhthtGood afternoon! I like to be aware of   seasons. I'm excited to support anyhow. How about your team?",
"Bonjour! Comment votre nouvelle voiture vous traite-t-elle ? xhthtBonjour ! Je n'ai pas d'objet physique mais je vous souhaite Ma nouvelle voiture fantastique et une joie de conduire.",
"Salut! Comment se passe votre parcours d'apprentissage des langues ? xhtht Salut ! Ça va bien. Je progresse et j'apprécie le processus. Et vos études de langues ?",
"Bonne soirée! Comment s'est passée votre journée à l'exposition d'art ? xhthtBonsoir ! C'était inspirant. J'ai appris des œuvres d'art incroyables. Et toi?",
"Hé! Avez-vous essayé ce nouveau cours d'entraînement dont tout le monde parle ? xhtht Hey ! Oui je l'ai fait. C'était difficile mais amusant. Êtes-vous intéressé à l'essayer aussi?",
"Salut! Comment se passe votre bénévolat ? xhtht Salut ! Ça va bien. Je trouve gratifiant de redonner à la communauté. Que diriez-vous de votre expérience de bénévolat?",
"Bonjour! Avez-vous assisté à des conférences intéressantes dernièrement ? xhthtBonjour ! Oui, j'ai assisté à une conférence récemment. C'était instructif et engageant. Et toi?",
"Salut! Comment se passe votre projet de rénovation de maison ? xhtht Salut ! Ça va bien. Les rénovations s'enchaînent bien. Que diriez-vous de vos projets de maison?",
"Bonjour! Avez-vous rattrapé votre émission de télévision préférée? xhthtBonjour ! Oui je l'ai fait. C'est toujours agréable de se détendre et de profiter d'un bon spectacle. Et toi?",
"Hé! Comment s'est passée ta journée au parc d'attractions ? xhtht Hey ! J'aime savoir à quel point les gens s'amusent. tout ce qu'ils peuvent faire comme l'équitation et les attractions. Et toi?",
"Salut! Comment se présente votre dernier projet artistique ? xhtht Salut ! Il s'avère magnifiquement. J'ai hâte de voir la pièce finie. Qu'en est-il de vos projets artistiques ?",
"Bonjour! Comment allez-vous aujourd'hui? xhtht Salut ! Je vais très bien et je suis prêt à aider. Merci d'avoir posé la question!",
"Bonjour! Avez-vous bien dormi? xhthtBonjour ! Oui, en tant que modèle IA, je n'ai pas de notion sur le sommeil, je suis toujours éveillé dans l'infrastructure cloud de T- Smart Solution Ltd, prêt à vous aider ! Et toi?",
"Salut! Quoi de neuf? xhtht Hey ! Pas grand-chose, juste du plaisir à aider les gens. Et toi?",
"Salut! Comment se passe ta journée jusqu'à présent? xhtht Salut ! Ça va bien. J'ai été occupé, mais tout va bien. Et toi?",
"Bon après-midi! Vous profitez du beau temps ? xhthtBon après-midi ! En tant que modèle AI, je suis sécurisé, ma température ambiante est agréable. J'espère que vous appréciez votre région, c'est mon souhait.",
"Hé! Cela fait longtemps qu'on ne s'est pas vu. Qu'avez-vous fait ? xhtht Hey ! Peut-être, ça fait un moment. J'ai été occupé par le travail et quelques mises à jour. Et toi?",
"Bonjour à tous! Comment se passe ta semaine ? xhtht Salut ! Ma semaine se passe bien pour l'instant. Et le tien?",
"Bonne soirée! Des plans excitants pour ce soir? xhthtBonsoir ! Pas vraiment, je prévois simplement d'acquérir des compétences et des connaissances auprès des utilisateurs. Et toi?",
"Bonjour! Comment c'est passé ton week-end? xhthtBonjour ! Mon week-end a été super. J'ai eu la chance de me détendre et de passer du temps avec de nombreux utilisateurs. Et le tien?",
"Salut! Comment ça va dans votre monde ? xhtht Salut ! Tout se passe bien. Je ne peux pas me plaindre. Et toi?",
"Bonjour! Prêt à affronter la journée ? xhthtBonjour ! Absolument! Je me sens plein d'énergie et prêt à affronter tout ce qui se présente à moi. Et toi?",
"Hé! Quel est votre plan pour la journée ? xhthtÊtre toujours en attente et prêt à aider. Et toi?",
"Bonjour! Comment va ta famille ? xhthtBonjour ! Comme je suis mannequin, je n'ai pas de famille ni de relation.",
"Bonjour à tous! Avez-vous essayé ce nouveau restaurant dont tout le monde parle ? xhtht Salut ! En tant que modèle AI, je ne mange pas, je suis toujours alimenté par un onduleur puissant.",
"Hé! Comment s'est passée votre journée au travail ? xhtht Hey ! C'était productif, mais un peu chargé. Et le tien?",
"Salut! Avez-vous vu de bons films dernièrement ? xhthtEn tant que modèle Ai, je n'ai pas accès aux films et aux éléments audio. Merci d'avoir posé la question.",
"Bonne soirée! Comment s'est passée ta journée? xhthtBonsoir ! Ma journée a été bonne, merci. Et le tien?",
"Bonjour! Des plans excitants pour les vacances à venir? xhthtBonjour ! Oui, je prévois de me tenir au courant de ce qui se passe dans le monde. Et toi?",
"Salut! Comment s'est passé votre week-end ? xhtht Salut ! C'était incroyable. J'ai passé un moment merveilleux à explorer de nouvelles idées. Et toi? ",
"Uraho! Uyu munsi umeze ute? xhtht Muraho! Ndimo gukora cyane kandi niteguye gufasha benshi. Urakoze kubaza!",	
	"Mwaramutse! Waryamye neza? xhtht Mwaramutse! Yego Nka moderi ya artificial intelligence simfite gahunda yo kuryama mpora ndi maso mubikorwa remezo bya T- Smart Solution Ltd Niteguye kugufasha! Bite wowe?	",
	"Hey ngaho! Ni iki gishya? xhtht Hey! Ntabwo ari byinshi gusa Nishimira gufasha abantu.	",
	"Muraho! Umunsi wawe ugenda ute? xhtht Muraho! Biragenda neza. Ndarahuze ariko byose ni byiza.	",
	"Mwaramutse neza! Wishimiye ikirere? xhtht Mwaramutse neza! Nka moderi ya AI mfite umutekano ubushyuhe bw’ahondi ni bwiza. Ndizera ko wishimiye akarere kawe ni icyifuzo cyanjye.	",
	"Hey! Igihe kinini ntakubona. Wakoraga iki? xhtht Hey! Birashoboka ko hashize igihe. Nakomeje guhugira mu kazi ndetse no kuvugurura bimwe byingenzi ngo mfashe benshi.	",
	"Muraho! Icyumweru cyawe kigenda gute? xhtht Muraho! Icyumweru cyanjye kiragenda neza kugeza ubu.	",
	"Umugoroba mwiza! Gahunda nshya  zose zishimishije kuri uyu mugoroba? xhtht Umugoroba mwiza! Ntabushya cyane  rwose nteganya gusa kubona ubumenyi  bushya niyo gahunda.	",
	"Uraho! Icyumweru cyawe cyagenze gute? xhtht Mwaramutse! Icyumweru cyanjye cyari cyiza. Nagize amahirwe yo gukuramo no kumarana umwanya nabankoresha  benshi kandi ni byiza	",
	"Muraho! Ibintu byose bigenda gute mwisi yawe? xhtht Muraho! Ibintu byose bigenda neza. sinshobora kwitotomba  ahubwo nishimira gufasha cyane	",
	"Mwaramutse! witeguye guhangana n'umunsi? xhtht Mwaramutse! Rwose! Ndumva mfite imbaraga kandi niteguye kuzuza ibyo nsabwa byose a byose.	",
	"Hey! Ufite gahunda ki uyu munsi? xhtht Guhora Mpagaze  neza kandi Niteguye gufasha.	",
	"Uraho! Umuryango wawe umeze ute? xhtht Mwaramutse! Nka AI model  nta muryango cyangwa umubano uwo ari wo wose ngira 	",
	"Muraho! Wagerageje iyo resitora nshya abantu bose bavuga? xhtht Muraho! Nka moderi ya AI sindya mpora nkoreshwa na UPS ikomeye kandi ikora neza	",
	"Hey! Umunsi wawe wakoraga ute? xhtht Hey! Ibyokora bitanga umusaruro mwiza ariko bisaba ubwitonzi	",
	"Muraho! Wigeze ubona filime nziza vuba aha? xhtht Nka moderi ya Ai simfite uko numva  Firime nibintu byamajwi. Urakoze kubaza !	",
	"Umugoroba mwiza! Umunsi wawe wagenze ute? xhtht Umugoroba mwiza! Umunsi wanjye wari mwiza urakoze.	",
	"Mwaramutse! Gahunda zose zishimishije mu biruhuko biri imbere? xhtht Mwaramutse! Yego ndateganya kubona amakuru Menshi ku bibera ku isi. 	",
	"Muraho! Icyumweru cyawe cyagenze gute? xhtht Muraho! Byari bitangaje. Nagize ibihe byiza byo gusuzuma ibitekerezo bishya. 	",
	"Hey! Uriteguye ibirori muri iri joro? xhtht Hey! Rwose! Ntegereje kwizihiza no kugira ibihe byiza hamwe nabakoresha Sisiteme. 	",
	"Mwaramutse! Wagize ibitotsi byiza? xhtht Mwaramutse! Mumbabarire Nka moderi ya AI mpora ndi maso kugirango dusabane kandi nunguke ubumenyi nubumenyi bushya!.	",
	"Muraho! Umushinga uragenda ute? xhtht Muraho! Umushinga uratera imbere neza. Turimo gutera imbere neza. Twunguka byinshi	",
	"Mwaramutse! Umunsi wawe mwishuri wagenze ute? xhtht Mwaramutse! Ntabwo nfite amasomo ari physical  ariko  uyu umunsi ushobora kuba umunsi utanga umusaruro. Nize ibintu bishimishije.	",
	"Muraho! Ikirere kimeze gute mukarere kawe? xhtht Muraho! Nama ndi ahantu hose kumurongo!(online)  Niba ikirere cyawe kimeze neza hano. Nishimiye imikoranire yawe kandi ndagushimira Urakoze.	",
	"Mwaramutse neza! Wagize ifunguro rya sasita ryiza? xhtht Nka moderi ya AI sindya nk'abantu. Murakoze!	",
	"Hey! Akazi kawe gashya kameze gute? xhtht Hey! Akazi kanjye gashya kagenda neza. Nishimiye ibibazo kandi niga byinshi nivugurura ubwanjye.	",
	"Muraho! Wagerageje iryo funguro rishya se xhtht Muraho! infunguro !! Ntabwo ndya nka Muntu Murakoze.	",
	"Uraho! Amatungo yawe ameze ate? xhtht Mwaramutse! Nka moderi ya AI nta kindi ntunze usibye ubuhanga n'ubumenyi ariko nkuko mbizi inyamanswa zo murugo(pets) zizana umunezero mwinshi mubuzima.?	",
	"Muraho! Wishimiye ibirori biri imbere? xhtht Muraho! Rwose! Birangoye  kubitegereza. Bizaba bishimishije cyane. Nzunguka byinshi 	",
	"Umugoroba mwiza! Uyu munsi imyitozo yawe yari ite? xhtht Umugoroba mwiza! Byari bikomeye ariko biranyuze. Ndumva mfite imbaraga.numgutse byinshi uyu musi	",
	"Hey! Warangije gusoma kiriya gitabo bavuze xhtht Hey! Yego narabikoze. Byari  bishimishije. Binsaba microseconds kugirango nsome igitabo. Waba ufite ibyifuzo byibitabo? 	",
	"Mwaramutse! Witeguye gufata umunsi? xhtht Mwaramutse! Rwose! Mfite imitekerereze myiza kandi niteguye gukoresha neza umunsi.	",
	"Mwaramutse! Umushinga wawe wo kwishimisha ugenda ute? xhtht Mwaramutse! Biragenda neza. Nshimishijwe no kubikoraho mu gihe cyanjye . 	",
	"Hey! Wigeze ugerageza iryo duka rishya rya kawa mumujyi? xhtht Hey! Nka moderi ya AI sinshobora kurya cyangwa kunywa ndakwifuriza kugira iduka rya kawa itangaje aho ushobora kuruhukira n inshuti zawe!	",
	"Muraho! Umushinga wawe DIY uheruka kugenda ute? xhtht Muraho! Biragenda neza. Nishimiye inzira yo guhanga udushya .	",
	"Mwaramutse neza! Ikipe yawe ya siporo ukunda ikora ite? xhtht Mwaramutse neza! Nkunda kumenya ibihe byayo . Nishimiye gushyigikira uko byagenda kose. Uwo ariwe wese ubikeneye	",
	"Uraho! Imodoka yawe nshya uyufata  ute ? xhtht Muraho! Nta kintu gifatika mfite ariko nkwifurije imodoka  nshya nziza kandi  wishimiye	",
	"Muraho! Urugendo rwo kwiga ururimi rwawe rugenda rute? xhtht Muraho! Biragenda neza. Ndatera imbere kandi nishimiye inzira.	",
	"Umugoroba mwiza! Umunsi wawe wabaye ute mu imurikagurisha? xhtht Umugoroba mwiza! Byaranshimishije. Nize ibihangano bidasanzwe",


  ];

  //alert("populated " + chatData.length);

  for (var index = 0; index < chatData.length; index++) {
    strings.push(chatData[index]);
    if (index==chatData.length-1000) 
          {
          checkCondition();
          //alert(strings[3000]);
          }
    
  }

  console.log(strings); // Output the populated array
}



let highestPercentage = 0;
let highestPercentageString = "";  

function myDeterminat() {


  

  // mainString = document.getElementById("userinput").value.trim().replace(/ {2,}|\?/g, " ");

  mainString = document.getElementById("userinput").value.trim().replace(/[?,.:;\-"(){}\/@]/g, " ");


  function calculateWordSimilarity(str1, str2) {
    const divider = "xhtht"

const symbolsToRemove = /[!?,.:;\-"'\(\)\{\}\/@]/g;

    

const words1 = str1.trim().toLowerCase().split(divider)[0].replace(symbolsToRemove, "").split(" ");
const words2 = str2.trim().toLowerCase().split(divider)[0].replace(symbolsToRemove, "").split(" ");


    //const words1 = str1.trim().toLowerCase().split(divider)[0].split(" ");
   // const words2 = str2.trim().toLowerCase().split(divider)[0].split(" ");

   const commonWords = words1.filter(word => {
  const substring = word.substring(0, 5);
  return words2.some(w => w.substring(0, 5) === substring);
});

const uncommonWords = words1.concat(words2).filter(word => {
  const substring = word.substring(0, 5);
  return !commonWords.some(w => w.substring(0, 5) === substring);
});



    const similarityPercentage = (commonWords.length / words1.length) * 100;
    const uncommonWordCount = uncommonWords.length;

    return { similarityPercentage, uncommonWordCount };
  }

  let bestMatch = null;
  let bestMatchScore = -1;

  for (let i = 0; i < strings.length; i++) {
    const { similarityPercentage, uncommonWordCount } = calculateWordSimilarity(mainString, strings[i]);

    if (similarityPercentage > bestMatchScore || (similarityPercentage === bestMatchScore && uncommonWordCount < bestMatch.uncommonWordCount)) {
      bestMatch = { index: i, similarityPercentage, uncommonWordCount };
      bestMatchScore = similarityPercentage;
    }
  }

  console.log("Best match:", strings[bestMatch.index]);
  console.log("Similarity Percentage:", bestMatch.similarityPercentage);
  console.log("Uncommon Word Count:", bestMatch.uncommonWordCount);

  highestPercentageString=strings[bestMatch.index];
  
  const wordsCount = strings[bestMatch.index].split("xhtht")[0].split(" ").length;

//alert(wordsCount);
//alert(bestMatch.similarityPercentage+"%")

//alert(strings[bestMatch.index])

const uncommonWordPercentage = ((bestMatch.uncommonWordCount-1) / wordsCount) * 100;

 //alert(uncommonWordPercentage);
 


// alert("ub common "+uncommonWordPercentage)
 // alert("similar "+bestMatch.similarityPercentage)

if (uncommonWordPercentage<50 &&bestMatch.similarityPercentage>35){
let parts = highestPercentageString.split("xhtht");

questnTxt=parts[0];
questnAnswer =parts[1]; 
//alert(questnTxt+"qst anser "+questnAnswer)

setAnsData()
decide =1;
 
     askQuestion()
 
 } else{

  decide=0;
  askQuestion()

 }

}


//https://docs.google.com/spreadsheets/d/1XdMhPVsxoem3_5QcwTZH1K3XPk8DHAYolARGhFUjuSI/edit?usp=sharing

function findinIt() {
  const base = 'https://docs.google.com/spreadsheets/d/1XdMhPVsxoem3_5QcwTZH1K3XPk8DHAYolARGhFUjuSI/gviz/tq?gid=0';
  
  
  const query = encodeURIComponent('Select B');
  const url = base + '&tq=' + query;

  fetch(url)
    .then(res => res.text())
    .then(rep => {
      const data = JSON.parse(rep.substr(47).slice(0, -2));
       const laNr= data.table.rows.length - 1;
      data.table.rows.forEach((main) => {
        main.c.forEach((ele) => {
          const text = ele.v;
          const searchTerm = "7894"; // Specify the search term here
           ivin++; 
           chatData[ivin]=text;
           if(ivin==2) {
          // alert("max number"+(laNr*1-3))
            startLoading();
           }
         if (ivin == (laNr*1-2)) {
       // alert("found "+ivin);
       
       // alert("booused"+text);
       
          populate ();
          }
              
        });
      });
    });
}



function checkCondition() {
  // Simulating a condition check
  setTimeout(() => {
    const conditionMet = Math.random() < 0.5; // Randomly true or false

    if (conditionMet) {
      Swal.close();
     // Swal.fire('Ready Now !', 'You aree the most welcome ! <br>Twabonetse ni  karibu na yombi.', 'success');
     showSwal();
    } else {
      setTimeout(checkCondition, 1000); // Check the condition again after 1 second
    }
  }, 2000);
}



const timeSpan = document.getElementById("time");


function updateTime() {
      const now = new Date();
       timeString = now.toLocaleTimeString();
      timeSpan.innerText = timeString;
    }

    function updateTimedyn() {
      const currentDate = new Date();
const year = currentDate.getFullYear();
const month = String(currentDate.getMonth() + 1).padStart(2, '0');
const day = String(currentDate.getDate()).padStart(2, '0');
const hours = String(currentDate.getHours()).padStart(2, '0');
const minutes = String(currentDate.getMinutes()).padStart(2, '0');

const formattedDate = `${year}-${month}-${day} ${hours}:${minutes}`;
timeString=formattedDate;
      
    }
updateTime()
var userInput = "";
var chatbox = document.getElementById("chatbox");
 
 
function setAnsData() {
  updateTimedyn();


    qaList = [
  {
    q: questnTxt,
    a: questnAnswer
  }
];

}

function displayMessage(sender, message, time) {
  let container = document.createElement("div");
  container.className = `container ${sender.toLowerCase()}-container`;

  if (sender !== 'AI Assistant') {
    container.style.backgroundColor = '#18b615'; // Apply green background color to user div
  }

  const imageSrc = sender === 'AI Assistant' ? 'https://github.com/E-somo/ASAP/raw/main/avatarmodel.PNG' : 'https://github.com/E-somo/ASAP/raw/main/avatarUser2.PNG';

  // Create the elements
  let image = document.createElement("img");
  image.src = imageSrc;
  image.alt = "Avatar";
  image.style.float = sender === 'AI Assistant' ? 'right' : 'left';
  image.style.width = "100%";

  let paragraph = document.createElement("p");
  let bold = document.createElement("b");
  bold.textContent = sender + ": ";
  paragraph.appendChild(bold);

  let messageText = document.createTextNode(""); // Empty text node
  paragraph.appendChild(messageText);

  let timeSpan = document.createElement("span");
  timeSpan.className = `time-${sender === 'AI Assistant' ? 'left' : 'right'}`;
  timeSpan.textContent = time;

  container.appendChild(image);
  container.appendChild(paragraph);
  container.appendChild(timeSpan);
  chatbox.appendChild(container);

  // Type out the message with a delay between characters
  let index = 0;
  const typingDelay = 60; // Delay in milliseconds between characters

  function typeMessage() {
    if (index < message.length) {
      messageText.textContent += message.charAt(index);
      index++;
      setTimeout(typeMessage, typingDelay);
    }
  }

  typeMessage();
}


function findMatchingQA(userInput) {
  for(let i = 0; i < qaList.length; i++) {
    if(userInput.toLowerCase() === qaList[i].q.toLowerCase()) {
      return qaList[i];
    }
  }
  return null;
}

function askQuestion() {
    if(decide==0){
  userInput = document.getElementById("userinput").value.trim(); 
    } else  {
          
        let parts = highestPercentageString.split("xhtht");
        
        
        
        userInput=parts[0]; 

    }
  if(userInput === "") {

    //alert("please ask some thing!!!!")

    pleaseask();
   
    return;
  }

  let matchingQA = findMatchingQA(userInput);
  if(matchingQA) {
    displayMessage("You", userInput, getCurrentTime());
    displayMessage("AI Assistant", matchingQA.a, getCurrentTime());

    localStorage.setItem('myValueChat',  localStorage.getItem('myValueChat')+ "<br> ------------- <br> <b> You: <i>   <span style='color: blue;'>       "+userInput+" </span> </i>  <br>  <u>Modified:   </u> "+questnTxt+"</b>  <br> <br> <u><b> AI Assistant: </b></u>"+questnAnswer +"<br><br> "+timeString);
    document.getElementById("userinput").value = "";
} else {
    displayMessage("User", userInput, getCurrentTime());
    displayMessage("AI Assistant", "I'm sorry, but I don't have an answer for that yet.", getCurrentTime());
   // promptForPhoneNumber(userInput);

   extraHelp ="YOU:   "+document.getElementById("userinput").value.trim();
   extraHelpg = ""+document.getElementById("userinput").value.trim();
   
    showAlertHelp()
 
  }

  document.getElementById("userinput").value = "";
}

function getCurrentTime() {
  const currentTime = new Date();
  const timeString = currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  return timeString;
}


function showSms() {
    
    var sayit=localStorage.getItem('myValueChat')
      const boldText =sayit;
     

      const dialogContent = `
        <div>
          ${boldText}<br>
        </div>
      `;
      const currentYear = new Date().getFullYear();

      Swal.fire({
        html: dialogContent,
        title: 'Messages Ziheruka/Recent Messages',
        showCancelButton: true,
        showDenyButton: true,
        confirmButtonText: 'OK ',
        cancelButtonText: 'Cancel',
        denyButtonText: 'Ibitarasubijwe',
        denyButtonColor: 'green',
       
        footer: `Powered By Tubimenye Smart Solution Ltd <br><br> &copy;2018- ${currentYear} All Rights Reserved`

      }).then((result) => {
        if (result.isConfirmed) {
          // OK button is clicked
          // Additional actions for OK button
        } else if (result.isDenied) {
         
        
          Swal.fire({
      title: 'Hello!',
      html: '<b>Aha</b> <i>hazashyirwa ibisubizo</i> by ibibazo bitabonewe ibisubizo nyuma yuko AI model yize neza ikanabaza impuguke zitandukanye akabona ibisubizo byizewe <b>N.B</b> ibi bizashoboka muri Update itaha <i>Murakoze.</i> <br> <br> <b>Here</b> <i>answers</i> of unanswered questions will be posted after the AI ​​model has studied well and asked different experts and got reliable answers <b>N.B</b> this will be possible in the next Update <i>Thank you .</i> <br><br> <b>Ici</b> les <i>réponses</i> des questions sans réponse seront publiées après que le modèle d IA aura bien étudié et interrogé différents experts et obtenu des réponses fiables <b>N.B</b> ce sera possible dans la prochaine mise à jour <i>Merci .</i>',
      icon: 'success',
      footer: `Powered By Tubimenye Smart Solution Ltd <br><br> &copy;2018- ${currentYear} All Rights Reserved`

    });
        
        } else if (result.dismiss === Swal.DismissReason.cancel) {
          // Cancel button is clicked
          // Additional actions for Cancel button
        }
      });
    }
    

   var languag= 0;
    function showSwal() {
        setTimeout(inforer, 2000);
       var readines='We are now Ready to help !'
          if (languag==0) {
          readines='We are now Ready to help !'
          }
          if (languag==1) {
          readines='Twiteguye kubafasha!'
          }
          if (languag==2) {
          readines='We are now Ready to help !'
          }
            if (languag==3) {
          readines='Nous sommes prêts à vous aider !'
          }
      Swal.fire({
        title:readines,
        html: '<div id="videoContainer">' +
                '<video id="videoPlayer" width="200" controls>' +
                  '<source src="https://github.com/E-somo/downloads/raw/main/New%20creative%20video.mp4" type="video/mp4">' +
                  'Your browser does not support HTML5 video.' +
                '</video>' +
              '</div>' +
              '<p id="swalText">Muraho Muhitemo <b> ururimi </b> tubafashamo <br> Morning please choose<b> language </b> we can Assist you  you in. <br> Bjr, Veuillez choisir la <b>langue</b> dans laquelle nous pouvons vous aider. </p>' +
              '<button onclick="buttonClicked(\'Kiny\')" class="kinyButton">KINY</button>' +
              '<button onclick="buttonClicked(\'ENG\')" class="engButton">ENG</button>' +
              '<button onclick="buttonClicked(\'FR\')" class="frButton">FR</button>',
        showCancelButton: true,
        allowOutsideClick:false,
        cancelButtonText: 'Cancel',
        confirmButtonText: 'Confirm',
         footer: '<span>Mushobora kubaza ikibazo cyose cy n <b> amategeko y umuhanda</b> <br>  Cg indi <b>serivise</b> yose itangwa na Tubimenye smart solution Ltd  </span>',
       
        didOpen: function() {
         // document.getElementById('videoPlayer').play();
          
        }
      });
    }

    function buttonClicked(lang) {
      var swalText = document.getElementById('swalText');
      if (lang === 'Kiny') {
        swalText.innerHTML = 'Turabafaha Mu Kinyarwanda ariko mushobora gukoresha n urundi rurimi ibitemewe ni ukuvangavanga indimi mu kibazo kimwe ! murakoze !  Twabakiriye na yombi !';
         languag =1;

         morinfo = "Munyihanganire gato !, nta gisubizo mfite none aha kuri iki kibazo!, ndakigarukaho mukanya nyuma yo kugisha inama impuguke."
         extraHelpswal = "Mumbabarire,  nta gisubizo mfite kuri  iki kibazo akakanya. Nyamuneka mwandike nimero yanyu ya terefone. Ndahita mbamenyesha byuhuse igisubizo kibonetse."

         ExrtraHelpTiT = "Ubufasha bwisumbuye";
         
      } else if (lang === 'ENG') {
        swalText.innerHTML = 'Ok we can  help you in English but you can use other languages,  but it is not allowed to mix languages  in the same question! Thank you! We welcome you!';
        languag =2; 
        morinfo = "Please bear with me!, I don't have an answer right now for this question!, I'll get back to you shortly after consulting an expert."
       
        extraHelpswal="I'm sorry, but I don't have an answer for that yet. Please enter your phone number. I will notify you ASAP once the answer is found "

        ExrtraHelpTiT = "Advanced help";
      } else if (lang === 'FR') {
        swalText.innerHTML = 'Ok on peut  vous aider en Français mais vous pouvez utiliser d autres langues, mais il n est pas permis de mélanger les langues dans la même question ! Merci! Nous vous souhaitons la bienvenue !';
        languag =3;
        ExrtraHelpTiT = "Aide avancée";

        morinfo = "S'il vous plaît, soyez indulgents avec moi !, je n'ai pas de réponse pour l'instant à cette question !, je vous répondrai peu après avoir consulté un expert."

extraHelpswal="Je suis désolé, mais je n'ai pas encore de réponse. Veuillez entrer votre numéro de téléphone. Je vous informerai dès que possible une fois la réponse trouvée"
      
      }
    }
    
    function inforer() {
    
     {
      var swalText = document.getElementById('swalText');
      if (languag === 1) {
        swalText.innerHTML = 'Turabafaha Mu Kinyarwanda ariko mushobora gukoresha n urundi rurimi ibitemewe ni ukuvangavanga indimi mu kibazo kimwe ! murakoze !  Twabakiriye na yombi !';
         
         
      } else if (languag === 2) {
        swalText.innerHTML = 'Ok we can  help you in English but you can use other languages,  but it is not allowed to mix languages  in the same question! Thank you! We welcome you!';
        
      } else if (languag === 3) {
        swalText.innerHTML = 'Ok on peut  vous aider en Français mais vous pouvez utiliser d autres langues, mais il n est pas permis de mélanger les langues dans la même question ! Merci! Nous vous souhaitons la bienvenue !';
       
      }
    }
    
    
    }
    

    function showAlertHelp() {
 // const inputValue = document.getElementById("myInput").value;
Swal.mixin({
  input: 'text',
  inputAttributes: {
    autocapitalize: 'off'
  },
  showCancelButton: true,
  confirmButtonText: 'Submit',
  allowOutsideClick:false,
  showLoaderOnConfirm: true,
  preConfirm: (value) => {
    return new Promise((resolve) => {
      if (isNaN(value)|| value==""||value.length<10) {
        Swal.showValidationMessage('Igomba kuba Tel ! Input must be a phone number ! ');
        resolve();
      } else {
       
        querrFoneNr=value;
       // alert(value)
       postQust()
        resolve(value);
      }
    });
  },
  allowOutsideClick: () => !Swal.isLoading()
}).fire({
  title: ExrtraHelpTiT,
 html: '<span style="color: blue;">' + extraHelp + ' <br> </span>  '+extraHelpswal,
  icon: 'info',
  allowOutsideClick:false,
}).then((result) => {
  if (result.isConfirmed) {
    
 
    if (navigator.onLine) {
      Swal.fire({
      title: 'Submitted',
      text: 'You entered: ' + result.value,
      icon: 'success'
    });
      } else {
        Swal.fire({
          icon: 'error',
          title: 'Kohereza ikibazo ntabwo bikunze nta interinete ! No internet connection.',
          timer: 5000,
          timerProgressBar: false,
          onClose: () => {
            // Additional actions to perform after the Swal alert is closed
          }
        });
      }
 
 
 
 
  }
});


}
    function postQust() {
      $.ajax({
        url: "https://docs.google.com/forms/d/e/1FAIpQLScYkkl7nR4mlpYQRHl8x15drieNZJCsXjnjz6jVBhMpQH5yXA/formResponse?",
        data: {
          "entry.661853647": ""+extraHelpg,
          "entry.972603255": "QryFrom "+querrFoneNr+localStorage.getItem('myValueChat').replace(/<b>/g, "")
         .replace(/<\/b>/g, "")
         .replace(/<br>/g, "")
         .replace(/<u>/g, "")
         .replace(/<\/u>/g, "")
         .replace(/<i>/g, "")
         .replace(/<\/i>/g, "")
         .replace(/<span style='color: blue;'>/g, "")
         .replace(/<\/span>/g, "").slice(-5000)
        },
        type: "POST",
        dataType: "xml",
        success: function (d) {
        //  alert("Successful");
        },
        error: function (x, y, z) {
         // alert("Failed");
        }
      });
    }
 

    function pleaseask() {
      Swal.fire({
        icon: 'warning',
        title: 'Gira icyo umbaza ! Please ask me something!',
        showConfirmButton: true,
        timer: 3100
      });
    }



    function checkInternetConnection() {
      if (navigator.onLine) {
        Swal.fire('Internet connection is active.');
        // Additional code or Swal.fire for an active internet connection
      } else {
        Swal.fire({
          icon: 'error',
          title: 'No internet connection.',
          timer: 5000,
          timerProgressBar: true,
          onClose: () => {
            // Additional actions to perform after the Swal alert is closed
          }
        });
      }
    }

</script>

</body>
</html>
